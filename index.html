<!DOCTYPE html>
<html>
<head>
  <title>Sender - PhÃ¡t camera</title>
</head>
<body>
  <h1>ğŸ“¸ Äang phÃ¡t video...</h1>
  <video id="localVideo" autoplay muted playsinline></video>

  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <script src="main.js"></script>
  <script>
    // Táº¡o peer vá»›i ID cá»‘ Ä‘á»‹nh
    const peer = new Peer("my-fixed-id");

    // Khi peer sáºµn sÃ ng
    peer.on('open', function () {
      console.log("âœ… ÄÃ£ káº¿t ná»‘i PeerJS vá»›i ID:", peer.id);

      // Má»Ÿ camera
      navigator.mediaDevices.getUserMedia({ video: true, audio: false })
        .then(function (stream) {
          document.getElementById('localVideo').srcObject = stream;

          // Tráº£ lá»i cuá»™c gá»i Ä‘áº¿n
          peer.on('call', function (call) {
            call.answer(stream); // Tráº£ lá»i báº±ng stream camera
          });
        })
        .catch(function (err) {
          console.log('ğŸš« KhÃ´ng láº¥y Ä‘Æ°á»£c stream local', err);
        });
    });
  </script>
</body>
</html>
